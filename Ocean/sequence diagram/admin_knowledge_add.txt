sequenceDiagram
    participant user
    participant login as msa-nbsportal
    participant home as msa-agentteam
    participant news_list as msa-agentnewskm
    participant db

rect rgba(0, 0, 255, .1)
    Note over user,db: add knowledge
    user->>login: input user/password
    login->>login: call service for check login
    login->>home: redirect to main menu
    user->>home: click menu knowledge
    home->>news_list: request view knowledge list
    news_list->>news_list:call service getKnowledge
    news_list->>+db: send query for get data
    db-->>-news_list: data for show in list
    news_list->>news_list: refresh knowledge data
    user->>news_list: click add knowledge
    news_list->>news_list: redirect to knowledge add
    user->>news_list: input knowledge data
    user->>news_list: click save
    news_list->>news_list: call service addKnowledge
    news_list->>+db:begin transaction
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_knows_data
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_knows_history
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_knows_upload
    db-->>-news_list: return ok status
    news_list->>+db:commit transaction
    db-->>-news_list: return ok status
    news_list->>news_list: redirect to knowledge list
    news_list->>news_list:call service getKnowledge
    news_list->>+db: send query for get data
    db-->>-news_list: data for show in list
    news_list->>news_list: refresh knowledge data
    news_list->>user:show message save ok
    
end
