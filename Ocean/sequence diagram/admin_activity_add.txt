sequenceDiagram
    participant user
    participant login as msa-nbsportal
    participant home as msa-agentteam
    participant news_list as msa-agentnewskm
    participant db

rect rgba(0, 0, 255, .1)
    Note over user,db: add activity
    user->>login: input user/password
    login->>login: call service for check login
    login->>home: redirect to main menu
    user->>home: click menu activity
    home->>news_list: request view activity list
    news_list->>news_list:call service GET activity
    news_list->>+db: send query for get data
    db-->>-news_list: data for show in list
    news_list->>news_list: refresh activity data
    user->>news_list: click add activity
    news_list->>news_list: redirect to activity add
    user->>news_list: input activity data
    user->>news_list: click save
    news_list->>news_list: call service POST activity
    news_list->>+db:begin transaction
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_data
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_data
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_insurance_type
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_insurance_type
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_position
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_position
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_branch
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_branch
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_area
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_area
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_detail
    db-->>-news_list: return ok status
    news_list->>+db: insert lg_activity_detail
    db-->>-news_list: return ok status
    news_list->>+db: insert tx_activity_upload
    db-->>-news_list: return ok status
    news_list->>+db:commit transaction
    db-->>-news_list: return ok status
    news_list->>news_list: redirect to activity list
    news_list->>news_list:call service GET activity
    news_list->>+db: send query for get data
    db-->>-news_list: data for show in list
    news_list->>news_list: refresh activity data
    news_list->>user:show message save ok
    
end
